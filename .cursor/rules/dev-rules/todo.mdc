---
description: 
globs: 
alwaysApply: true
---
# ShutterHub v2 タスク管理（純粋TODOファイル）

**重要**: このファイルは純粋な**タスク管理専用**です。技術仕様・プログラム・実装詳細は専門ファイルに分離しています。

---

## 📁 **ファイル分類ルール**

### **専門ファイル一覧**
- 🏗️ **技術仕様**: `.cursor/rules/dev-rules/techstack.mdc`
- 📋 **プロジェクト概要**: `.cursor/rules/dev-rules/project.mdc`
- 🔧 **開発ルール**: `.cursor/rules/dev-rules/development.mdc`
- 🎨 **UI/UXガイド**: `.cursor/rules/dev-rules/ui-guide.mdc`
- 🔐 **認証システム**: `.cursor/rules/dev-rules/auth.mdc`
- 📅 **予約システム**: `.cursor/rules/dev-rules/prompts-booking.mdc`
- 📸 **即座撮影**: `.cursor/rules/dev-rules/instant-photo-request.mdc`
- 📚 **実装計画**: `.cursor/rules/dev-rules/implementation-plan.mdc`
- 📝 **詳細要件**: `.cursor/rules/dev-rules/detailed-requirements.mdc`

### **TODOファイル作成・編集ルール**
1. **純粋なタスク管理のみ記載**
   - [ ] 未完了タスク
   - [x] 完了済みタスク
   - 🔴🟡🟢 優先度表示
   - 見積時間・実装時間
   - 依存関係・次期計画

2. **禁止事項**
   - ❌ プログラムコード・技術仕様
   - ❌ データベーススキーマ・SQL
   - ❌ コンポーネント実装詳細
   - ❌ Server Actions・API詳細
   - ❌ 詳細な技術要件・設計書

3. **技術仕様は専門ファイルへ**
   - コード詳細 → `techstack.mdc`
   - 認証実装 → `auth.mdc`
   - 予約システム → `prompts-booking.mdc`
   - UI設計 → `ui-guide.mdc`

---

## 🎯 **現在の開発状況**

**ShutterHub v2**: モデル・カメラマン・撮影会運営者統合プラットフォーム + 即座撮影リクエスト機能

**MVP完成度**: 90% | **差別化機能**: 完成済み | **フォトブック**: Phase 1-2完了

---

## ✅ **主要完了実績（2024年12月時点）**

### **🏗️ Phase 1: MVP基盤（完了）**
- [x] **認証システム** - Google/X/Discord OAuth、プロフィール管理
- [x] **撮影会管理** - CRUD操作、画像アップロード、スロット制対応
- [x] **予約システム** - 5種類（先着順・抽選・管理抽選・優先・キャンセル待ち）
- [x] **多言語化** - 日本語・英語対応（next-intl）
- [x] **基本UI/UX** - Shadcn/ui、レスポンシブデザイン

### **🚀 Phase 2: 差別化機能（完了）**
- [x] **即座撮影リクエスト** - ゲスト機能、位置ベースマッチング、リアルタイム通知
- [x] **エスクロー決済** - メルカリ型安全決済、写真配信システム
- [x] **評価・レビューシステム** - 5段階評価、相互評価、統計表示
- [x] **通知システム** - リアルタイム通知、音声通知、履歴管理

### **🎨 Phase 3: 高度機能（完了）**
- [x] **写真公開合意システム** - Tinder風UI、肖像権管理
- [x] **管理者機能** - ダッシュボード、ユーザー管理、争議処理
- [x] **データベース統合** - Supabaseマイグレーション、RLS設定
- [x] **フォトブック基盤** - 料金プラン統合、電子ブック形式表示、プロフィール統合（Phase 1-2）

---

## 🔄 **現在進行中の最高優先度タスク**

### **🔴 t0-031: フォトブック機能完成（収益化の核心）**
- [x] **Phase 1**: プロフィール閲覧ページ作成 ✅
- [x] **Phase 2**: PostCardコンポーネント修正 ✅
- [ ] **Phase 3**: 電子ブックリーダー機能（PDF.js統合）
- [ ] **Phase 4**: フォトブック作成・編集機能
- [ ] **Phase 5**: 収益化統合（料金プラン・決済）
- **優先度**: 🔴 最高（収益化直結）
- **見積時間**: 2-3週間
- **依存関係**: 既存撮影会システム、ユーザープロフィール

### **🔴 t0-027: 基本E2Eテスト構築（品質保証）**
- [ ] Playwright環境セットアップ
- [ ] 認証フロー自動テスト
- [ ] 撮影会作成・予約フロー自動テスト
- [ ] 即座撮影リクエストフロー自動テスト
- [ ] エスクロー決済フロー自動テスト
- **優先度**: 🔴 最高（リリース品質保証）
- **見積時間**: 1-2週間
- **依存関係**: 全主要機能

---

## 🟡 **次期実装ロードマップ（優先度順）**

### **🟡 高優先度（2025年1月）**
- [ ] **t0-024**: SNS型メッセージ・フォローシステム（コミュニティ構築）
- [ ] **t0-025**: 撮影会システム最適化（UX向上）
- [ ] **t0-026**: 予約体験向上システム（推薦機能）

### **🟢 中優先度（2025年2-3月）**
- [ ] **モバイル最適化**: PWA対応、モバイル専用UI
- [ ] **ゲーミフィケーション**: バッジ、レベル、実績システム
- [ ] **AI機能**: 写真自動タグ付け、推薦システム

### **⚪ 低優先度（2025年4月以降）**
- [ ] **パフォーマンス最適化**: キャッシュ、CDN、負荷軽減
- [ ] **多言語拡張**: 中国語、韓国語対応
- [ ] **API外部連携**: Instagram、Twitter連携

---

## 📊 **開発統計（2024年12月時点）**

- **総ファイル数**: 250+
- **実装済み機能**: 28/30 (93%)
- **コンポーネント数**: 85+
- **データベーステーブル**: 32+
- **総コード行数**: 22,000+
- **TypeScript型安全性**: 100%達成
- **多言語化対応**: 日本語・英語完全対応

---

## 🎯 **実装戦略**

### **段階1: 収益化完成（2024年12月）**
1. **フォトブック機能完成** - 月額プラン差別化
2. **E2Eテスト構築** - リリース品質保証

### **段階2: コミュニティ強化（2025年1月）**
1. **SNSシステム完成** - ユーザー定着率向上
2. **UX最適化** - 予約体験・満足度向上

### **段階3: 規模拡大対応（2025年2-3月）**
1. **モバイル最適化** - スマホユーザー体験強化
2. **AI・自動化** - 運営効率化・差別化

### **段階4: 市場拡大（2025年4月以降）**
1. **パフォーマンス強化** - 大規模ユーザー対応
2. **海外展開準備** - 多言語・多通貨対応

---

## ⚠️ **重要な開発ルール**

### **TODO管理ルール**
1. **機能実装完了時**: 必ずこのファイルを更新
2. **チェックボックス更新**: [ ] → [x] + 実装時間記録
3. **自動コミット**: `git commit -m "feat: [実装内容]"` + `git push`
4. **専門ファイル分離**: 技術詳細は適切な専門ファイルへ

### **実装完了時の必須手順**
1. ✅ ビルドチェック（`npm run build`）
2. ✅ TODO更新（このファイル）
3. ✅ コミット＆プッシュ
4. ✅ 次期タスク優先度確認

### **混乱防止ルール**
- **このファイル**: 純粋なタスク管理のみ
- **技術仕様**: 専門mdcファイル参照
- **質問・確認**: 実装前に仕様明確化
- **コード記載禁止**: プログラム・SQL・コンポーネント詳細は専門ファイルへ






### **🚀 実装ロードマップ**

#### **フェーズ1: フォトブック機能完成（1-2週間）**
1. **t0-031**: フォトブック機能完成・ソーシャル機能実装
2. **t0-027**: 基本E2Eテスト構築

#### **フェーズ2: 高度機能（2-3週間）**
1. **t0-024**: SNS型メッセージ・フォローシステム実装
2. **t0-025**: モバイル最適化・ゲーミフィケーション機能

#### **フェーズ3: 差別化機能（3-4週間）**
1. **AI機能統合**: フォトブック自動レイアウト・推薦システム
2. **ビッグデータ活用**: 撮影パターン分析・インサイト生成
3. **収益化機能**: テンプレート市場・プレミアム機能拡充

---

**最終更新**: 2024年12月1日  
**次回作業**: フォトブック機能完成（t0-031 ソーシャル機能実装）













