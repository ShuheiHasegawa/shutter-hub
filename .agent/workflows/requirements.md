---
description: 要件定義詳細確認 - 実装前に要件を明確化
---

# 要件定義詳細確認コマンド

## 目的
実装にズレが生じないように要件定義をより細かくするためのコマンド。
開発方法が多義にわたる場合は、その都度ユーザーに確認する（最適な方法を選択するため）。
**実装にはまだ入らず、要件の明確化に専念する。**

## 必須確認項目チェックリスト

### 🎯 **機能仕様の明確化**

#### 基本機能要件
- [ ] この機能の**主要な目的・ゴール**は何か？
- [ ] **想定ユーザー**は誰か？（管理者・一般ユーザー・ゲスト・特定の役割）
- [ ] **使用頻度**はどの程度か？（日常的・週次・月次・稀）
- [ ] **重要度・優先度**はどの程度か？（必須・重要・あれば良い）

#### 機能の範囲・境界
- [ ] **含まれる機能**は具体的に何か？
- [ ] **含まれない機能**（スコープ外）は何か？
- [ ] **将来拡張予定**の機能はあるか？
- [ ] **他システムとの連携**は必要か？

### 🎨 **UI/UX設計の確認**

#### レイアウト・デザイン
- [ ] **参考となるページ・コンポーネント**はあるか？
- [ ] **レスポンシブ対応**の要件は？（スマホ・タブレット・PC）
- [ ] **ダークモード対応**は必要か？
- [ ] **アクセシビリティ要件**は？

#### ユーザー操作・フロー
- [ ] **操作の流れ**（ユーザージャーニー）は？
- [ ] **エラー時の動作**は？（エラーメッセージ・リカバリ方法）
- [ ] **確認ダイアログ**は必要か？（削除・重要な操作時）
- [ ] **ローディング状態**の表示は？

### 📊 **データ設計の確認**

#### データベース設計
- [ ] **新しいテーブル・カラム**は必要か？
- [ ] **既存テーブルとのリレーション**はどうするか？
- [ ] **外部キー制約**による整合性保証は必要か？
- [ ] **インデックス**は必要か？（パフォーマンス要件）

### 🔒 **セキュリティ・権限の確認**

#### 認証・認可
- [ ] **認証が必要**な機能か？認証なしでもアクセス可能か？
- [ ] **ユーザーの権限レベル**による制限は？
- [ ] **データの閲覧・編集・削除権限**はどう設定するか？

### 🌐 **技術実装の確認**

#### 技術選択・アーキテクチャ
- [ ] **フロントエンド技術**の制約は？（Next.js・React・TypeScript）
- [ ] **バックエンド技術**の制約は？（Supabase・Server Actions）
- [ ] **外部API・サービス**との連携は？
- [ ] **リアルタイム機能**は必要か？

## 確認プロセス

### Step 1: 基本要件の確認
1. 上記チェックリストから**該当する項目を特定**
2. **不明・曖昧な項目**をリストアップ
3. **優先度順**に質問を整理

### Step 2: 詳細仕様の確認
1. **具体的な例・ユースケース**で確認
2. **エッジケース・例外処理**を検討
3. **パフォーマンス・制約条件**を明確化

### Step 3: 実装方針の合意
1. **複数の技術的選択肢**を必ず提示（最低2つ以上）
2. **各選択肢のメリット・デメリット**を詳細に説明
3. **推奨案と理由**を明示
4. **ユーザーの最終確認**を取得

## 注意事項

- **実装開始前**に必ずこのコマンドを使用する
- **曖昧な要件**は必ず確認する
- **複数の解釈**が可能な場合は選択肢を提示する
- **技術的制約**がある場合は事前に説明する
